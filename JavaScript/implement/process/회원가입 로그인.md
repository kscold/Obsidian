- 백엔드 [[서버(Server)]]에서 회원가입과 로그인 프로세스이다.


## 회원가입 로그인 로직 진행 과정

1. 회원가입, 이메일, 비밀번호 [[서버(Server)]]로 전달한다.
2. 비밀번호 암호화 후 이메일과 함께 [[데이터베이스(DataBase)]]에 저장한다.
3. 로그인 이메일, 비밀번호를 [[서버(Server)]]로 전달한다.
4. 이메일과 비밀번호 해시값을 비교 검증한다.
5. 엑세크 토큰 및 리프레시 토큰을 생성한다.
6. 클라이언트에 토큰을 전달한다.
7. 프라이빗 리소스 요청 및 토큰 재발급 시 토큰을 사용한다.


## 회원가입 및 비밀번호 암호화

- 원본 비밀번호는 그 어디에도 저장하지 않는다.
- 서버가 해킹되더라도 비밀번호를 알 수 없게 하기 위함이다.
- 원본 비밀번호 대신 암호된 값을 [[데이터베이스(DataBase)]]에 저장한다.
- 비밀번호는 절대 복호화가 안되고 같은 값에 대해 항상 같은 결과를 반환하는 알고리즘을 사용해서 암호화한다.
- 비빌번호를 비교할 때는 일력된 비밀번호를 다시 암호화하고 암호화된 값이 같은지 비교한다.
- bcrypt가 가장 많이 사용되는 비밀번호 알고리즘이다.


## Salt의 중요성

- SHA256이 대중적이지만 쓰이지 않는 이유는 Dict Attack을 할 수 있기 때문이다.
- 따라서 SHA256보다 Salt를 요구하고 해싱 시간이 너무 오래 걸려 Dict Attack하기 쉽지 않은 bcrypt를 사용하는 것이 좋다.


## Token의 종류

![[Pasted image 20241128222453.png]]

![[Pasted image 20241128222551.png]]

- 검증하는 과정에는 bearer를 사용한다.

![[Pasted image 20241128222640.png]]

![[Pasted image 20241128222713.png]]

![[Pasted image 20241128222801.png]]


## [[JWT(JSON Web Token)]]

- [[JWT(JSON Web Token)]]를 사용하면 Header와 Payload의 조합에 따라 Signature가 달라지기 떄문에 해킹을 방지하기가 쉽다.